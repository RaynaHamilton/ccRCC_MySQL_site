### Introduction
This website enables querying a microarray dataset comparing expression of 143 normal and clear cell renal cell carcinoma samples. This dataset was generated by vom Roemeling et al. [1] and preprocessed by the CuMiDa microarray database [2].
The search page is located at http://bfx3.aap.jhu.edu/rhamil32/final_project/search.html and source code is available at https://github.com/RaynaHamilton/final_project.

### Usage
1. On the main search page (search.html), enter a search term and specify in a dropdown menu whether it refers to a gene name, gene symbol or gene ontology term.  
2. Click submit.  Querying the database can take a few seconds, so please by patient.
3. Browse the search results, which are sorted alphabetically by gene symbol.
4. Click on any button located on the right side of the results table to be taken to a unique gene page.  This page contains fold change and p-value results as well as violinplots comparing normal and carcinoma expression for each probe associated with the gene.  
5. If desired, click on any gene ontology term associated with the gene to be returned to the search page with this term filled in, so that genes involved in related processes can be investigated.

### Requirements
The website should be hosted on a Linux server.  It uses the following technologies:
1. Python version 3, including the required modules cgi, json, mysql.connector, matplotlib, numpy, pandas and seaborn.
2. HTML version 5
3. Javascript and JQuery-3.6.0
4. CSS for page styling

### Implementation

### Project Layout

* final_project/: 
    * css/`
      * main.css 
        `Contains styling information for search page and gene page.`
    * data/`Contains intermediate files generated while making the MySQL database or during analysis.`
      * genes_to_GO.tsv 
        `Table of gene symbols and associated GO ids.`
      * GO_to_names.tsv 
        `Table of GO ids and associated term descriptions.`
      * probes_to_genes.tsv 
        `Table of probe IDs, asssociated gene symbols and gene names.`
      * GO_enrichment_input.txt 
        `File of significant probe names for input to NCBI DAVID.`
      * GSEA_results.txt 
        `File of NCBI DAVID GO enrichment results.`
      * significant_genes.txt 
        `File of significant gene names and symbols, with p values and fold changes.`
      * probes_to_stats.tsv 
        `Table of probe IDs, Bonferroni-corrected p-values and log2(fold changes) (carcinoma relative to normal).`
      * Renal_GSE53757.csv 
        `Normalized microarray log2(expression table) indexed by probe IDs and sample IDs, downloaded from CuMiDa database [2].`
     * js/`
       * search.js
        `Calls search_database.cgi when all form elements are complete, and fills the search HTML page with the results table using AJAX.`
     * R/`
       * process_IDs.r
        `Parses the Renal_GSE53757 file and generates database input files located in data/`
     * templates/`
       * gene_page.html
         `Template HTML for the gene-specific info page.`
     * README.md:
      `The guide you're reading.`
     * background.jpg
         `Fluorescence image of ccRCC cell abnormal cilia, used as a site background.`     
     * make_database.py
         `Parses input files located in data/ and loads information into the MySQL database.`
     * search.html
      `Main search page, and where results are displayed.`
     * search_database.cgi
      `Loads in input terms from the search.html form, queries the database, and returns results to js/search.js for processing.`
     * search_genes.cgi
      `Queries the database with a gene symbol and name when a result button is clicked, calls violinplot.py for each probe, and sends results to the gene info page.`
     * violinplot.py
      `Creates a violinplot comparing normal and ccRCC expression for each probe in the gene info page.`       

### References
1.	von Roemeling, C. A., Radisky, D. C., Marlow, L. A., Cooper, S. J., Grebe, S. K., Anastasiadis, P. Z., Tun, H. W., & Copland, J. A. (2014). Neuronal Pentraxin 2 Supports Clear Cell Renal Cell Carcinoma by Activating the AMPA-Selective Glutamate Receptor-4. Cancer Research, 74(17), 4796–4810. https://doi.org/10.1158/0008-5472.can-14-0210
2.	Feltes, B. C., Chandelier, E. B., Grisci, B. I., & Dorn, M. (2019). CuMiDa: An Extensively Curated Microarray Database for Benchmarking and Testing of Machine Learning Approaches in Cancer Research. Journal of Computational Biology, 26(4), 376–386. 